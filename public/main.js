(()=>{const e=document.getElementById("header"),t=document.getElementById("search-button"),i=document.getElementById("favs-button"),a=document.getElementById("search-input"),s=document.getElementById("main");let n;const c=document.getElementById("select-region"),d="https://api.edamam.com/search?app_id=6e9588d5&app_key=235fe842418027a77beaedfea67209bb&to=30",o=document.createElement("h1"),l=document.getElementById("header_logo");let M;s.innerHTML="",n=document.createElement("ul"),n.setAttribute("id","recipe_list"),n.classList.add("list"),s.appendChild(n);const r=(e,t)=>{const i=document.createElement("li");i.classList.add("li");const a=document.createElement("h3");a.innerText=e.recipe.label,a.classList.add("li-title"),i.appendChild(a);const s=document.createElement("div");s.classList.add("li-content");const c=document.createElement("img");c.src=e.recipe.image,c.alt=e.recipe.label,c.classList.add("li-content-img"),s.appendChild(c);const d=document.createElement("p");d.classList.add("li-content-ings","hidden"),d.innerText=e.recipe.ingredientLines.join("\n");const o=document.createElement("button");o.classList.add("button","button-ings"),o.innerText="Ingredients",o.onclick=()=>{d.classList.toggle("hidden"),i.classList.toggle("li-fullscreen")},s.appendChild(o),s.appendChild(d),i.appendChild(s),(()=>{const a=JSON.parse(localStorage.getItem("favorites")),s=document.createElement("button");s.classList.add("button","button-favs");const n=document.createElement("img");n.classList.add("favs-button-icon"),s.appendChild(n),n.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkuNSAxMGMtMi40ODMgMC00LjUgMi4wMTUtNC41IDQuNXMyLjAxNyA0LjUgNC41IDQuNSA0LjUtMi4wMTUgNC41LTQuNS0yLjAxNy00LjUtNC41LTQuNXptMi41IDVoLTJ2MmgtMXYtMmgtMnYtMWgydi0yaDF2MmgydjF6bS02LjUyNyA0LjU5M2MtMS4xMDggMS4wODYtMi4yNzUgMi4yMTktMy40NzMgMy40MDctNi40My02LjM4MS0xMi0xMS4xNDctMTItMTUuODA4IDAtNC4wMDUgMy4wOTgtNi4xOTIgNi4yODEtNi4xOTIgMi4xOTcgMCA0LjQzNCAxLjA0MiA1LjcxOSAzLjI0OCAxLjI3OS0yLjE5NSAzLjUyMS0zLjIzOCA1LjcyNi0zLjIzOCAzLjE3NyAwIDYuMjc0IDIuMTcxIDYuMjc0IDYuMTgyIDAgLjc0Ni0uMTU2IDEuNDk2LS40MjMgMi4yNTMtLjUyNy0uNDI3LTEuMTI0LS43NjgtMS43NjktMS4wMTQuMTIyLS40MjUuMTkyLS44MzkuMTkyLTEuMjM5IDAtMi44NzMtMi4yMTYtNC4xODItNC4yNzQtNC4xODItMy4yNTcgMC00Ljk3NiAzLjQ3NS01LjcyNiA1LjAyMS0uNzQ3LTEuNTQtMi40ODQtNS4wMy01LjcyLTUuMDMxLTIuMzE1LS4wMDEtNC4yOCAxLjUxNi00LjI4IDQuMTkyIDAgMy40NDIgNC43NDIgNy44NSAxMCAxM2wyLjEwOS0yLjA2NGMuMzc2LjU1Ny44MzkgMS4wNDggMS4zNjQgMS40NjV6Ii8+PC9zdmc+",i.appendChild(s);const c=document.createElement("button");c.classList.add("button","hidden","button-favs");const d=document.createElement("img");d.classList.add("favs-button-icon"),c.appendChild(d),d.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkuNSAxMGMtMi40ODMgMC00LjUgMi4wMTUtNC41IDQuNXMyLjAxNyA0LjUgNC41IDQuNSA0LjUtMi4wMTUgNC41LTQuNS0yLjAxNy00LjUtNC41LTQuNXptMi41IDVoLTV2LTFoNXYxem0tNi41MjcgNC41OTNjLTEuMTA4IDEuMDg2LTIuMjc1IDIuMjE5LTMuNDczIDMuNDA3LTYuNDMtNi4zODEtMTItMTEuMTQ3LTEyLTE1LjgwOCAwLTYuNzY5IDguODUyLTguMzQ2IDEyLTIuOTQ0IDMuMTI1LTUuMzYyIDEyLTMuODQ4IDEyIDIuOTQ0IDAgLjc0Ni0uMTU2IDEuNDk2LS40MjMgMi4yNTMtMS4xMTYtLjkwMi0yLjUzNC0xLjQ0NS00LjA3Ny0xLjQ0NS0zLjU4NCAwLTYuNSAyLjkxNi02LjUgNi41IDAgMi4wNjMuOTcgMy45MDEgMi40NzMgNS4wOTN6Ii8+PC9zdmc+",i.appendChild(c),a.some((t=>{t.recipe.uri===e.recipe.uri&&(s.classList.add("hidden"),c.classList.remove("hidden"))})),s.onclick=()=>{(e=>{const t=JSON.parse(localStorage.getItem("favorites"));t.some((t=>t.recipe.label===e.recipe.label))||(t.push(e),localStorage.setItem("favorites",JSON.stringify(t))),u(t)})(e),s.classList.add("hidden"),c.classList.remove("hidden")},c.onclick=()=>{(e=>{const t=JSON.parse(localStorage.getItem("favorites"));t.splice(t.findIndex((t=>t.recipe.label===e.recipe.label)),1),localStorage.setItem("favorites",JSON.stringify(t)),u(t)})(e),"favsList"===t?i.style.display="none":(c.classList.add("hidden"),s.classList.remove("hidden"))}})(),n.appendChild(i)},u=e=>{e&&0!==e.length?i.classList.remove("hidden"):i.classList.add("hidden")};var L;L=window.pageYOffset,window.onscroll=function(){const t=window.pageYOffset;L>t?e.classList.remove("header-hidden"):e.classList.add("header-hidden"),L=t},null===JSON.parse(localStorage.getItem("favorites"))&&localStorage.setItem("favorites",JSON.stringify([])),(async()=>{const e=(new Date).getHours(),t=e>=4&&e<=11,i=e>=12&&e<=16,a=e>=17&&e<=20,n=e>=21||e<=3,c=`${d}&q=_&cuisineType=british&dishType=Main course&mealType=`;let l,M;document.createElement("h1"),t?(l=await fetch(c+"Breakfast"),M="Good Morning! Some breakfast ideas!"):i?(l=await fetch(c+"Lunch"),M="Lunchtime! Up for a snack?!"):a?(l=await fetch(c+"Dinner"),M="Good Evening! Here some Dinner ideas for you!"):n&&(l=await fetch(c+"Snack"),M="Still awake at this hour?! Here some snack suggestions for you!"),o.classList.add("welcome-header"),o.innerText=M,s.prepend(o);const u=(await l.json()).hits;console.log(u),u.forEach((e=>{r(e,"searchResultsList")}))})(),u(JSON.parse(localStorage.getItem("favorites"))),l.onclick=starter,t.onclick=()=>(async()=>{if(a.value){n.innerHTML="";const e=await(async()=>{o.innerText=`Search results for: "${a.value}":`,M=c.value?`${d}&q=${a.value}&cuisineType=${c.value}`:`${d}&q=${a.value}`;const e=await fetch(M);return(await e.json()).hits})();e.length>0?e.sort((()=>Math.random()>.5?1:-1)).forEach((e=>{r(e,"searchResultsList")})):o.innerText=`No results for "${a.value}" :(`}})(),i.onclick=()=>(()=>{o.innerText="Your saved dishes:",n.innerHTML="";const e=JSON.parse(localStorage.getItem("favorites"));e&&e.forEach((e=>{r(e,"favsList")}))})()})();
(()=>{const e=()=>{const t=document.getElementById("header"),i=document.getElementById("search-button"),a=document.getElementById("favs-button"),n=document.getElementById("search-input"),s=document.getElementById("main");let c;const o=document.getElementById("select-region"),d="https://api.edamam.com/search?app_id=6e9588d5&app_key=235fe842418027a77beaedfea67209bb&to=30",l=document.createElement("h1"),M=document.getElementById("header_logo");let r;s.innerHTML="",c=document.createElement("ul"),c.setAttribute("id","recipe_list"),c.classList.add("list"),s.appendChild(c);const u=(t,i)=>{const a=document.createElement("li");a.classList.add("li");const n=document.createElement("h3");n.innerText=t.recipe.label,n.classList.add("li-title"),a.appendChild(n);const o=document.createElement("div");o.classList.add("li-content");const d=document.createElement("img");d.src=t.recipe.image,d.alt=t.recipe.label,d.classList.add("li-content-img"),o.appendChild(d);const M=document.createElement("p");M.classList.add("li-content-ings","hidden"),M.innerText=t.recipe.ingredientLines.join("\n");const r=document.createElement("button");r.classList.add("button","button-ings"),r.innerText="Ingredients",r.onclick=()=>{M.classList.toggle("hidden"),a.classList.toggle("li-fullscreen")},o.appendChild(r),o.appendChild(M),a.appendChild(o),(()=>{const n=JSON.parse(localStorage.getItem("favorites")),c=document.createElement("button");c.classList.add("button","button-favs");const o=document.createElement("img");o.classList.add("favs-button-icon"),c.appendChild(o),o.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkuNSAxMGMtMi40ODMgMC00LjUgMi4wMTUtNC41IDQuNXMyLjAxNyA0LjUgNC41IDQuNSA0LjUtMi4wMTUgNC41LTQuNS0yLjAxNy00LjUtNC41LTQuNXptMi41IDVoLTJ2MmgtMXYtMmgtMnYtMWgydi0yaDF2MmgydjF6bS02LjUyNyA0LjU5M2MtMS4xMDggMS4wODYtMi4yNzUgMi4yMTktMy40NzMgMy40MDctNi40My02LjM4MS0xMi0xMS4xNDctMTItMTUuODA4IDAtNC4wMDUgMy4wOTgtNi4xOTIgNi4yODEtNi4xOTIgMi4xOTcgMCA0LjQzNCAxLjA0MiA1LjcxOSAzLjI0OCAxLjI3OS0yLjE5NSAzLjUyMS0zLjIzOCA1LjcyNi0zLjIzOCAzLjE3NyAwIDYuMjc0IDIuMTcxIDYuMjc0IDYuMTgyIDAgLjc0Ni0uMTU2IDEuNDk2LS40MjMgMi4yNTMtLjUyNy0uNDI3LTEuMTI0LS43NjgtMS43NjktMS4wMTQuMTIyLS40MjUuMTkyLS44MzkuMTkyLTEuMjM5IDAtMi44NzMtMi4yMTYtNC4xODItNC4yNzQtNC4xODItMy4yNTcgMC00Ljk3NiAzLjQ3NS01LjcyNiA1LjAyMS0uNzQ3LTEuNTQtMi40ODQtNS4wMy01LjcyLTUuMDMxLTIuMzE1LS4wMDEtNC4yOCAxLjUxNi00LjI4IDQuMTkyIDAgMy40NDIgNC43NDIgNy44NSAxMCAxM2wyLjEwOS0yLjA2NGMuMzc2LjU1Ny44MzkgMS4wNDggMS4zNjQgMS40NjV6Ii8+PC9zdmc+",a.appendChild(c);const d=document.createElement("button");d.classList.add("button","hidden","button-favs");const M=document.createElement("img");M.classList.add("favs-button-icon"),d.appendChild(M),M.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkuNSAxMGMtMi40ODMgMC00LjUgMi4wMTUtNC41IDQuNXMyLjAxNyA0LjUgNC41IDQuNSA0LjUtMi4wMTUgNC41LTQuNS0yLjAxNy00LjUtNC41LTQuNXptMi41IDVoLTV2LTFoNXYxem0tNi41MjcgNC41OTNjLTEuMTA4IDEuMDg2LTIuMjc1IDIuMjE5LTMuNDczIDMuNDA3LTYuNDMtNi4zODEtMTItMTEuMTQ3LTEyLTE1LjgwOCAwLTYuNzY5IDguODUyLTguMzQ2IDEyLTIuOTQ0IDMuMTI1LTUuMzYyIDEyLTMuODQ4IDEyIDIuOTQ0IDAgLjc0Ni0uMTU2IDEuNDk2LS40MjMgMi4yNTMtMS4xMTYtLjkwMi0yLjUzNC0xLjQ0NS00LjA3Ny0xLjQ0NS0zLjU4NCAwLTYuNSAyLjkxNi02LjUgNi41IDAgMi4wNjMuOTcgMy45MDEgMi40NzMgNS4wOTN6Ii8+PC9zdmc+",a.appendChild(d),n.some((e=>{e.recipe.uri===t.recipe.uri&&(c.classList.add("hidden"),d.classList.remove("hidden"))})),c.onclick=()=>{(e=>{const t=JSON.parse(localStorage.getItem("favorites"));t.some((t=>t.recipe.label===e.recipe.label))||(t.push(e),localStorage.setItem("favorites",JSON.stringify(t))),L(t)})(t),c.classList.add("hidden"),d.classList.remove("hidden")},d.onclick=()=>{if((e=>{const t=JSON.parse(localStorage.getItem("favorites"));t.splice(t.findIndex((t=>t.recipe.label===e.recipe.label)),1),localStorage.setItem("favorites",JSON.stringify(t)),L(t)})(t),"favsList"===i){if(a.style.display="none",0===JSON.parse(localStorage.getItem("favorites")).length){l.innerText="Nothing to show :/";const t=document.createElement("button");t.classList.add("button","button-get-back"),t.innerText="Return",s.appendChild(t),t.onclick=()=>{e()}}}else d.classList.add("hidden"),c.classList.remove("hidden")}})(),c.appendChild(a)},L=e=>{e&&0!==e.length?a.classList.remove("hidden"):a.classList.add("hidden")};(()=>{let e=window.pageYOffset;window.onscroll=function(){const i=window.pageYOffset;e>i||i<100?t.classList.remove("header-hidden"):t.classList.add("header-hidden"),e=i}})(),null===JSON.parse(localStorage.getItem("favorites"))&&localStorage.setItem("favorites",JSON.stringify([])),(async()=>{const e=(new Date).getHours(),t=e>=4&&e<=11,i=e>=12&&e<=16,a=e>=17&&e<=20,n=e>=21||e<=3,c=`${d}&q=_&cuisineType=british&dishType=Main course&mealType=`;let o,M;document.createElement("h1"),t?(o=await fetch(c+"Breakfast"),M="Good Morning! Some breakfast ideas!"):i?(o=await fetch(c+"Lunch"),M="Lunchtime! Up for a snack?!"):a?(o=await fetch(c+"Dinner"),M="Good Evening! Here some Dinner ideas for you!"):n&&(o=await fetch(c+"Snack"),M="Still awake at this hour?! Here some snack suggestions for you!"),l.classList.add("welcome-header"),l.innerText=M,s.prepend(l);const r=(await o.json()).hits;console.log(r),r.forEach((e=>{u(e,"searchResultsList")}))})(),L(JSON.parse(localStorage.getItem("favorites"))),M.onclick=e,i.onclick=()=>(async()=>{if(n.value){c.innerHTML="";const e=await(async()=>{l.innerText=`Search results for: "${n.value}":`,r=o.value?`${d}&q=${n.value}&cuisineType=${o.value}`:`${d}&q=${n.value}`;const e=await fetch(r);return(await e.json()).hits})();e.length>0?e.sort((()=>Math.random()>.5?1:-1)).forEach((e=>{u(e,"searchResultsList")})):l.innerText=`No results for "${n.value}" :(`}})(),a.onclick=()=>(()=>{l.innerText="Your saved dishes:",c.innerHTML="";const e=JSON.parse(localStorage.getItem("favorites"));e&&(0!==e.length?e.forEach((e=>{u(e,"favsList")})):console.log("empty!"))})()};e()})();
(()=>{const e=()=>{const t=document.getElementById("header"),i=document.getElementById("search-button"),a=document.getElementById("favs-button"),s=document.getElementById("search-input"),n=document.getElementById("main");let c;const d=document.getElementById("select-region"),o="https://api.edamam.com/search?app_id=6e9588d5&app_key=235fe842418027a77beaedfea67209bb&to=30",l=document.createElement("h1"),M=document.getElementById("header_logo");let r;n.innerHTML="",c=document.createElement("ul"),c.setAttribute("id","recipe_list"),c.classList.add("list"),n.appendChild(c);const u=(e,t)=>{const i=document.createElement("li");i.classList.add("li");const a=document.createElement("h3");a.innerText=e.recipe.label,a.classList.add("li-title"),i.appendChild(a);const s=document.createElement("div");s.classList.add("li-content");const n=document.createElement("img");n.src=e.recipe.image,n.alt=e.recipe.label,n.classList.add("li-content-img"),s.appendChild(n);const d=document.createElement("p");d.classList.add("li-content-ings","hidden"),d.innerText=e.recipe.ingredientLines.join("\n");const o=document.createElement("button");o.classList.add("button","button-ings"),o.innerText="Ingredients",o.onclick=()=>{d.classList.toggle("hidden"),i.classList.toggle("li-fullscreen")},s.appendChild(o),s.appendChild(d),i.appendChild(s),(()=>{const a=JSON.parse(localStorage.getItem("favorites")),s=document.createElement("button");s.classList.add("button","button-favs");const n=document.createElement("img");n.classList.add("favs-button-icon"),s.appendChild(n),n.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkuNSAxMGMtMi40ODMgMC00LjUgMi4wMTUtNC41IDQuNXMyLjAxNyA0LjUgNC41IDQuNSA0LjUtMi4wMTUgNC41LTQuNS0yLjAxNy00LjUtNC41LTQuNXptMi41IDVoLTJ2MmgtMXYtMmgtMnYtMWgydi0yaDF2MmgydjF6bS02LjUyNyA0LjU5M2MtMS4xMDggMS4wODYtMi4yNzUgMi4yMTktMy40NzMgMy40MDctNi40My02LjM4MS0xMi0xMS4xNDctMTItMTUuODA4IDAtNC4wMDUgMy4wOTgtNi4xOTIgNi4yODEtNi4xOTIgMi4xOTcgMCA0LjQzNCAxLjA0MiA1LjcxOSAzLjI0OCAxLjI3OS0yLjE5NSAzLjUyMS0zLjIzOCA1LjcyNi0zLjIzOCAzLjE3NyAwIDYuMjc0IDIuMTcxIDYuMjc0IDYuMTgyIDAgLjc0Ni0uMTU2IDEuNDk2LS40MjMgMi4yNTMtLjUyNy0uNDI3LTEuMTI0LS43NjgtMS43NjktMS4wMTQuMTIyLS40MjUuMTkyLS44MzkuMTkyLTEuMjM5IDAtMi44NzMtMi4yMTYtNC4xODItNC4yNzQtNC4xODItMy4yNTcgMC00Ljk3NiAzLjQ3NS01LjcyNiA1LjAyMS0uNzQ3LTEuNTQtMi40ODQtNS4wMy01LjcyLTUuMDMxLTIuMzE1LS4wMDEtNC4yOCAxLjUxNi00LjI4IDQuMTkyIDAgMy40NDIgNC43NDIgNy44NSAxMCAxM2wyLjEwOS0yLjA2NGMuMzc2LjU1Ny44MzkgMS4wNDggMS4zNjQgMS40NjV6Ii8+PC9zdmc+",i.appendChild(s);const c=document.createElement("button");c.classList.add("button","hidden","button-favs");const d=document.createElement("img");d.classList.add("favs-button-icon"),c.appendChild(d),d.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkuNSAxMGMtMi40ODMgMC00LjUgMi4wMTUtNC41IDQuNXMyLjAxNyA0LjUgNC41IDQuNSA0LjUtMi4wMTUgNC41LTQuNS0yLjAxNy00LjUtNC41LTQuNXptMi41IDVoLTV2LTFoNXYxem0tNi41MjcgNC41OTNjLTEuMTA4IDEuMDg2LTIuMjc1IDIuMjE5LTMuNDczIDMuNDA3LTYuNDMtNi4zODEtMTItMTEuMTQ3LTEyLTE1LjgwOCAwLTYuNzY5IDguODUyLTguMzQ2IDEyLTIuOTQ0IDMuMTI1LTUuMzYyIDEyLTMuODQ4IDEyIDIuOTQ0IDAgLjc0Ni0uMTU2IDEuNDk2LS40MjMgMi4yNTMtMS4xMTYtLjkwMi0yLjUzNC0xLjQ0NS00LjA3Ny0xLjQ0NS0zLjU4NCAwLTYuNSAyLjkxNi02LjUgNi41IDAgMi4wNjMuOTcgMy45MDEgMi40NzMgNS4wOTN6Ii8+PC9zdmc+",i.appendChild(c),a.some((t=>{t.recipe.uri===e.recipe.uri&&(s.classList.add("hidden"),c.classList.remove("hidden"))})),s.onclick=()=>{(e=>{const t=JSON.parse(localStorage.getItem("favorites"));t.some((t=>t.recipe.label===e.recipe.label))||(t.push(e),localStorage.setItem("favorites",JSON.stringify(t))),L(t)})(e),s.classList.add("hidden"),c.classList.remove("hidden")},c.onclick=()=>{(e=>{const t=JSON.parse(localStorage.getItem("favorites"));t.splice(t.findIndex((t=>t.recipe.label===e.recipe.label)),1),localStorage.setItem("favorites",JSON.stringify(t)),L(t)})(e),"favsList"===t?i.style.display="none":(c.classList.add("hidden"),s.classList.remove("hidden"))}})(),c.appendChild(i)},L=e=>{e&&0!==e.length?a.classList.remove("hidden"):a.classList.add("hidden")};var N;N=window.pageYOffset,window.onscroll=function(){const e=window.pageYOffset;N>e?t.classList.remove("header-hidden"):t.classList.add("header-hidden"),N=e},null===JSON.parse(localStorage.getItem("favorites"))&&localStorage.setItem("favorites",JSON.stringify([])),(async()=>{const e=(new Date).getHours(),t=e>=4&&e<=11,i=e>=12&&e<=16,a=e>=17&&e<=20,s=e>=21||e<=3,c=`${o}&q=_&cuisineType=british&dishType=Main course&mealType=`;let d,M;document.createElement("h1"),t?(d=await fetch(c+"Breakfast"),M="Good Morning! Some breakfast ideas!"):i?(d=await fetch(c+"Lunch"),M="Lunchtime! Up for a snack?!"):a?(d=await fetch(c+"Dinner"),M="Good Evening! Here some Dinner ideas for you!"):s&&(d=await fetch(c+"Snack"),M="Still awake at this hour?! Here some snack suggestions for you!"),l.classList.add("welcome-header"),l.innerText=M,n.prepend(l);const r=(await d.json()).hits;console.log(r),r.forEach((e=>{u(e,"searchResultsList")}))})(),L(JSON.parse(localStorage.getItem("favorites"))),M.onclick=e,i.onclick=()=>(async()=>{if(s.value){c.innerHTML="";const e=await(async()=>{l.innerText=`Search results for: "${s.value}":`,r=d.value?`${o}&q=${s.value}&cuisineType=${d.value}`:`${o}&q=${s.value}`;const e=await fetch(r);return(await e.json()).hits})();e.length>0?e.sort((()=>Math.random()>.5?1:-1)).forEach((e=>{u(e,"searchResultsList")})):l.innerText=`No results for "${s.value}" :(`}})(),a.onclick=()=>(()=>{l.innerText="Your saved dishes:",c.innerHTML="";const e=JSON.parse(localStorage.getItem("favorites"));e&&e.forEach((e=>{u(e,"favsList")}))})()};e()})();